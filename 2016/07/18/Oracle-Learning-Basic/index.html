<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Oracle数据库基础学习笔记 | 料峭春风吹酒醒</title><meta name="description" content="终不辜负。"><meta name="keywords" content="hexo,theme,minimal,otakism"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="学习顺序数据库搭建以及远程连接数据库初步了解查询，单表查询结合简单过滤条件进一步了解查询，单表查询结合函数深入了解查询，多表查询结合子查询DML操作 即增改删数据隔离级别附：如何使用脚本刷库"><meta name="keywords" content="学习记录,老坑迁移,Oracle,SQL"><meta property="og:type" content="article"><meta property="og:title" content="Oracle数据库基础学习笔记"><meta property="og:url" content="http://yoursite.com/2016/07/18/Oracle-Learning-Basic/index.html"><meta property="og:site_name" content="料峭春风吹酒醒"><meta property="og:description" content="学习顺序数据库搭建以及远程连接数据库初步了解查询，单表查询结合简单过滤条件进一步了解查询，单表查询结合函数深入了解查询，多表查询结合子查询DML操作 即增改删数据隔离级别附：如何使用脚本刷库"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-09-23T12:58:39.320Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Oracle数据库基础学习笔记"><meta name="twitter:description" content="学习顺序数据库搭建以及远程连接数据库初步了解查询，单表查询结合简单过滤条件进一步了解查询，单表查询结合函数深入了解查询，多表查询结合子查询DML操作 即增改删数据隔离级别附：如何使用脚本刷库"><link rel="icon" href="/favicon.png"><script type="text/javascript">var HexoConfig={root:"/",search:{enabled:"false"}}</script><link href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,700" rel="stylesheet"><link rel="stylesheet" href="/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script></head></html><body><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>setLoadingBarProgress(20)</script><div id="site-wrapper"><header id="header"><div id="header-wrapper" class="clearfix"><a id="logo" href="/"><img src="/images/logo.png"> <span id="site-desc">spring chill </span></a><button id="site-nav-switch"><span class="icon icon-menu"></span></button></div></header><script>setLoadingBarProgress(40)</script><main id="main" role="main"><article id="post-Oracle-Learning-Basic" class="post article white-box article-type-post" itemscope itemprop="blogPost"><h2 class="title"><a href="/2016/07/18/Oracle-Learning-Basic/">Oracle数据库基础学习笔记</a></h2><time>7月 18, 2016</time><section class="content"><div class="article-entry" itemprop="articleBody"><h3 id="学习顺序"><a href="#学习顺序" class="headerlink" title="学习顺序"></a>学习顺序</h3><ol><li>数据库搭建以及远程连接数据库</li><li>初步了解查询，单表查询结合简单过滤条件</li><li>进一步了解查询，单表查询结合函数</li><li>深入了解查询，多表查询结合子查询</li><li>DML操作 即增改删</li><li>数据隔离级别</li><li>附：如何使用脚本刷库</li></ol><a id="more"></a><hr><h3 id="数据库远程连接"><a href="#数据库远程连接" class="headerlink" title="数据库远程连接"></a>数据库远程连接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">conn / as sysdba</span><br><span class="line">conn scott/tiger</span><br><span class="line">conn scott/tiger@10.10.10.2:1521/testdb</span><br><span class="line">alter user scott account unlock</span><br><span class="line">alter user scott account lock</span><br><span class="line"><span class="built_in">set</span> nls_lang=simplified chinese_china.zhs16gbk</span><br><span class="line"><span class="built_in">set</span> nls_lang=simplified american_america.al132utf8</span><br><span class="line">shutdown immediate</span><br><span class="line">start up</span><br><span class="line">host</span><br><span class="line"><span class="built_in">set</span> linesize 500</span><br><span class="line"><span class="built_in">set</span> pagesize 50</span><br></pre></td></tr></table></figure><h4 id="想要远程连接一个数据库："><a href="#想要远程连接一个数据库：" class="headerlink" title="想要远程连接一个数据库："></a>想要远程连接一个数据库：</h4><ol><li>数据库所在的机器必须创建一个监听器 Net Configuration Assistant</li><li>我的电脑——管理——服务——出现了…Listener的服务</li><li>cmd——lsnrctl——进入Listener Control环境</li><li>cmd——status——查看监听器状态，如果包含了目标数据库，则可以该数据库可以被连接。</li><li>在PL/SQL中连接10.10.10.2:1521/dfbb<br>（或者在宿主机cmd中输入conn scott/tiger@10.10.10.2:1521/dfbb 前提是宿主机中已安装了Oracle，若成功则会显示已连接）</li><li>当PL/SQL标题栏出现了<a href="mailto:scott@10.10.10.2" target="_blank" rel="noopener">scott@10.10.10.2</a>:1521/dfbb就表示成功</li><li>如果连不上，在其中工具——首选项——OCI库指明为instantclient/oci.dll</li></ol><h4 id="远程数据库连接的问题和处理方式："><a href="#远程数据库连接的问题和处理方式：" class="headerlink" title="远程数据库连接的问题和处理方式："></a>远程数据库连接的问题和处理方式：</h4><ol><li>网络不通（防火墙，机器没开，IP地址错误，网线断开等）</li><li>无监听程序，远程数据库必须创建一个监听器 Net Configuration Assisant</li><li>监听器中尚未包含目标数据库，等待。</li><li>本地无数据库</li><li>数据库已经关闭。<br>在对方机器上，使用sys连接本地数据库时，会连接到空闲例程，使用startup命令可打开数据库。</li><li>远程时会检查用户名密码，无用户或权限不足</li></ol><br>> 为了简化远程连接，可以在Oracle里的【Net Configuration Assisant】里的【服务名配置】中： > 添加一个服务器名（testdb），主机名（10.10.10.2），更改登陆（用户system 密码oracle），网络服务名（testdb000） > 之后可以直接 conn scott/tiger@testdb000<hr><h3 id="查询基础"><a href="#查询基础" class="headerlink" title="查询基础"></a>查询基础</h3><h4 id="数据类型："><a href="#数据类型：" class="headerlink" title="数据类型："></a>数据类型：</h4><ol><li>字符串<ul><li>char【定长】</li><li>varchar/varchar2【变长】</li></ul></li><li>数型 number<br>（P.S. number(7,2)中的意思表示，该数据有7位整数和2位小数）</li><li>日期 date</li></ol><h4 id="Select语句基础："><a href="#Select语句基础：" class="headerlink" title="Select语句基础："></a>Select语句基础：</h4><p>详细查看官方帮助文档（学会看语法图）</p><p>最简单的查询语句：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp;</span><br></pre></td></tr></table></figure><p>得到的结果称为查询结果集<br>查询结果集中，一行为一条记录，一列为一个字段</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select empno as eno, ename, sal esal from emp;</span><br></pre></td></tr></table></figure><p>其中eno称为empno的别名，esal为sal的别名<br>其别名可以使用as，也可以直接接在原名之后。<br>若要使用特殊符号，需添加双引号。<br>双引号还有强制区分大小写的作用，加上双引号之后，直接用不区分的方式将无法找到对应字段。查找时区分大小写或加上双引号。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select empno from emp;</span><br><span class="line">select * from emp <span class="built_in">where</span> ename = <span class="string">'SCOTT'</span>;</span><br><span class="line">select empno,ename,sal from emp <span class="built_in">where</span> ename = <span class="string">'SCOTT'</span>;</span><br><span class="line">select distinct ename,deptno from emp;</span><br></pre></td></tr></table></figure><p>当查询结果集中，两条记录的所有字段都相同，才认为记录重复。<br>在条件筛选时，区分大小写！区分！区分！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">drop table emp01</span><br><span class="line">purge recyclebin</span><br><span class="line">desc emp</span><br></pre></td></tr></table></figure><h3 id="过滤查询"><a href="#过滤查询" class="headerlink" title="过滤查询"></a>过滤查询</h3><ol><li><p>算数运算</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> sal + 1000 = 4000</span><br></pre></td></tr></table></figure></li><li><p>比较运算</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> sal &gt; 3000</span><br><span class="line"><span class="built_in">where</span> sal &lt;&gt; 3000</span><br><span class="line"><span class="built_in">where</span> sal between 1000 and 2000</span><br><span class="line"><span class="built_in">where</span> sal <span class="keyword">in</span> (800, 950, 2000, 3000, 4000)</span><br></pre></td></tr></table></figure><p>between and语句相当于闭区间<br>in用于匹配离散值</p></li><li><p>逻辑运算</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> not sal = 3000</span><br></pre></td></tr></table></figure></li><li><p>空值判断</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> comm is null</span><br><span class="line"><span class="built_in">where</span> comm <span class="keyword">in</span>(300, 500, null)</span><br><span class="line"><span class="built_in">where</span> comm not <span class="keyword">in</span> (300, 500, null)</span><br></pre></td></tr></table></figure><p>空值不可以用=/&lt;&gt;而必须使用is/is not</p></li><li><p>模糊匹配</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> ename like <span class="string">'%S%'</span></span><br><span class="line"><span class="built_in">where</span> ename like <span class="string">'%\%%'</span> escape <span class="string">'\'</span></span><br></pre></td></tr></table></figure><p>%表示任意个任意字符，_表示单个任意字符<br>转义字符\</p></li><li><p>连字符运算</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ename,ename,ename || <span class="string">'---'</span> from emp;</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>Attention：算数运算、模糊查询会忽略空值，连字符运算不会。</p></blockquote><h3 id="排序子句"><a href="#排序子句" class="headerlink" title="排序子句"></a>排序子句</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp order by sal;</span><br></pre></td></tr></table></figure><p>可以字段名，也可以是别名和字段号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp order by deptno desc;</span><br><span class="line">select * from emp order by deptno desc, sal desc;</span><br></pre></td></tr></table></figure><p>多字段时，先根据deptno，再根据sal来排序</p><blockquote><p>Attention：select … from … where … order by …</p></blockquote><h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><ol><li>单行函数</li><li>多行函数（分组/聚合函数）</li><li>分析函数</li></ol><ul><li>dual函数，只有一条记录一个字段，用于进行计算或者返回值。</li></ul><h3 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h3><br>#### 字符类 1. upper/lower【大/小写】<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select upper (<span class="string">'abcDEfg00aa中文'</span>) from dual;</span><br><span class="line">select lower (<span class="string">'abcDEfg00aa中文'</span>) from dual;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>initcap【单词首字母大写 空格、下划线、中文后都认为是新单词】</p></li><li><p>substr【取子串】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select substr(<span class="string">'abcdefg0123'</span> , -3) from dual;</span><br><span class="line">select substr(<span class="string">'abcdefg0123'</span> , 3) from dual;</span><br><span class="line">select substr(<span class="string">'abcdefg0123'</span> , 3 , 3) from dual;</span><br></pre></td></tr></table></figure></li><li><p>length【长度】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select length(<span class="string">'abc悟空'</span>) from dual;</span><br><span class="line">select lengthb(<span class="string">'abc悟空'</span>) from dual;</span><br></pre></td></tr></table></figure></li><li><p>instr【取子串的索引下标】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select instr( <span class="string">'abcdefg'</span> , <span class="string">'efg'</span> ) from dual;</span><br><span class="line">select instr( <span class="string">'abcdefgabcdefg'</span> , <span class="string">'efg'</span> , 6) from dual;</span><br></pre></td></tr></table></figure></li><li><p>lpad/rpad</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select lpad( <span class="string">'abcd'</span> , 10 , <span class="string">'-='</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>ltrim/rtrim/trim</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select ltrim( <span class="string">'      abcd   bbb  ccc   '</span> ) from dual;</span><br><span class="line">select ltrim( <span class="string">'aaaabbbccccdddbbbaa'</span> , <span class="string">'ba'</span> ) from dual;</span><br><span class="line">select trim( <span class="string">'a'</span> from <span class="string">'aaaabbbccccdddbbbaa'</span> ) from dual;</span><br><span class="line">select trim( leading <span class="string">'a'</span> from <span class="string">'aaaabbbccccdddbbbaa'</span> ) from dual;</span><br><span class="line">select trim( trailing <span class="string">'a'</span> from <span class="string">'aaaabbbccccdddbbbaa'</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>ascii()/charas()</p></li><li><p>replace</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select replace( <span class="string">'acca01aabdji2ab03duab'</span> , <span class="string">'ab'</span> , <span class="string">'八戒'</span> ) from dual;</span><br><span class="line">select translate( <span class="string">'acca01aabdji2ab03duab'</span> , <span class="string">'ab'</span> , <span class="string">'八戒'</span> ) from dual;</span><br></pre></td></tr></table></figure></li></ol><br>#### 数值类 1. round【四舍五入】/ trunc【截断】/ mod【取模】<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select round(100.4567) from dual;		结果为100</span><br><span class="line">select round(100.5567 , 2) from dual;	结果为100.56</span><br><span class="line">select trunc(100.4567 , 2) from dual;	结果为100.55</span><br></pre></td></tr></table></figure><br>#### 日期类 1. sysdate【服务器时间】<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select sysdate from dual;</span><br><span class="line">select sysdate + 100 from dual;</span><br></pre></td></tr></table></figure><pre><code>支持以天为单位进行算术运算。</code></pre><ol start="2"><li><p>to_char(sysdate , ‘模式字符’) 【显示转换函数】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sysdate to_char(sysdate , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span>) from dual;</span><br></pre></td></tr></table></figure></li><li><p>current_date【当前客户端的时区】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select current_date to_char(sysdate , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span>) from dual;</span><br></pre></td></tr></table></figure></li><li><p>months_between【两个日期之间有多少个月】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select round( months_between(sysdate , hiredate) ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>add_months【加/减月份】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select add_mounths( sysdate , 3 ) to_char(sysdate , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span>) from dual;</span><br><span class="line">select add_mounths( sysdate , -3 ) to_char(sysdate , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span>) from dual;</span><br></pre></td></tr></table></figure></li><li><p>to_date【字符串转换为日期】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select to_date( <span class="string">'2016-2-2'</span> , <span class="string">'yyyy-mm-dd'</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>next_day【下一个的，一周中的第几天】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select to_char( next_day( <span class="string">'2016-2-2'</span> , <span class="string">'yyyy-mm-dd'</span> , 5) , <span class="string">'yyyy-mm-dd'</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>last_day【某月中的最后一天】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select to_char( last_day( <span class="string">'2016-7-14'</span> , <span class="string">'yyyy-mm-dd'</span> , 5) , <span class="string">'yyyy-mm-dd'</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>round【在天数上对时间进行四舍五入】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select to_char( round( to_date( <span class="string">'2016-7-13 11:59:59'</span> , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span> ) ) ,  <span class="string">'yyyy-mm-dd hh24:mi:ss'</span> ) from dual;</span><br><span class="line">select to_char( round( to_date( <span class="string">'2016-7-13 11:59:59'</span> , <span class="string">'yyyy-mm-dd hh24:mi:ss'</span> ) , <span class="string">' mm'</span>) ,  <span class="string">'yyyy-mm-dd hh24:mi:ss'</span> ) from dual;</span><br></pre></td></tr></table></figure></li><li><p>extract【提取年月日】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select extract(month from sysdate) from dual;</span><br><span class="line">select extract(minutes from systimestamp) from dual;</span><br></pre></td></tr></table></figure></li><li><p>systimestamp【可包含毫秒信息】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select systimestamp to_char(sysdate , <span class="string">'yyyy-mm-dd hh24:mi:ss.ff3'</span>) from dual;</span><br></pre></td></tr></table></figure></li></ol><br>#### 通用类函数 1. nvl(comm,0) 2. nvl2(comm,0,1) 3. case 等值case decode 条件case<br>### 分组/聚合函数 > 所有的分组/聚合函数忽略空值！<ol><li><p>max() / min() / avg() / sum()</p></li><li><p>count()【返回记录条数】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">count( distinct deptno)</span><br></pre></td></tr></table></figure></li><li><p>avg( nvl(comm,0) )【解决忽略空值的问题】</p></li><li><p>group by</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avg(sal) from emp group by deptno【分组求平均工资】</span><br></pre></td></tr></table></figure><p>select list中的非聚合字段必须出现在group by表达式，否则会出现错误。<br>①不是单组分组：没有group by语句<br>②不是group by表达式：没有放到group by语句中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> sal &gt; 2000 group by deptno having avg(sal) &gt; 2000</span><br></pre></td></tr></table></figure><p>只有sal &gt;2000 的记录才会参加分组<br>分组中只有avg(sal) &gt; 2000 的才会显示</p></li><li><p>rollup()【上卷，对第一个字段的每个分组进行一次小计】</p></li><li><p>cube()【对所有分组字段都进行小计】</p></li></ol><br>### 多表查询基础<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp, dept;</span><br><span class="line">select * from emp cross join dept;</span><br></pre></td></tr></table></figure><pre><code>查询结果集中，所有字段是两表字段之和，A表的每条记录会与B表的每条记录组合（即笛卡尔积）</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp , dept <span class="built_in">where</span> emp.deptno = dept.deptno;</span><br><span class="line">select * from emp e , dept d <span class="built_in">where</span> e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><p>多表查询一般都使用where带条件进行过滤，n张表连接至少需要n-1个条件，之间用and连接</p><blockquote><p>Attention：当字段名唯一时，可不限定表名/别名。</p></blockquote><h3 id="Oracle-Theta语法"><a href="#Oracle-Theta语法" class="headerlink" title="Oracle Theta语法"></a>Oracle Theta语法</h3><ol><li><p>等值连接【又称内连接】【忽略空值】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp , dept <span class="built_in">where</span> emp.deptno = dept.deptno</span><br></pre></td></tr></table></figure></li><li><p>不等连接【忽略空值】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp e, salgrade sg <span class="built_in">where</span> s.sal &gt;= sg.losal and sal &lt;= hisal;</span><br><span class="line">select * from emp e, salgrade sg <span class="built_in">where</span> sal between losal and hisal;</span><br></pre></td></tr></table></figure></li><li><p>左连接 / 右连接【又可称左外连接】</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp , dept <span class="built_in">where</span> emp.deptno = dept.deptno(+);</span><br></pre></td></tr></table></figure><p>A表左连接B表【B表右连接A表】，则(+)放在B表一端。<br>查询结果集中，会包含A表中所有的记录。在不满足连接条件的情况下，B表对应的所有字段为null</p></li><li><p>自连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elect e1.empno , e1.ename , e1.sal , e2.empno , e2.ename from emp e1 , emp e2 <span class="built_in">where</span> e1.mgr = e2.empno</span><br></pre></td></tr></table></figure><p>把emp这张表作为两张，往往是表中记录有层级关系。</p></li></ol><br>### SQL92语法 1. natural join 自然连接<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from emp natural join emp01</span><br></pre></td></tr></table></figure><pre><code>自动使用两表的相同字段进行等值连接【注意：空值查不出】</code></pre><ol start="2"><li><p>join/using 子句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp join emp01 using (empno);</span><br><span class="line">select * from emp join emp01 using (ename);</span><br></pre></td></tr></table></figure><p>指定使用哪些字段进行等值连接</p></li><li><p>join/on 子句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from emp e join dept d on e.deptno = d.deptno;</span><br><span class="line">select * from emp e left (outer) join dept d on e.deptno = d.deptno;</span><br><span class="line">select * from emp e full join dept d on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure></li></ol><p>用SQL92语法实现左连接，与Oracle Theta不同，AB两表的记录都全部显示，对应不符合连接条件的，字段为空值。</p><br>#### 连接条件和过滤条件的区别<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp e join dept d on e.deptno = d.deptno <span class="built_in">where</span> e.sal &gt; 2000;</span><br><span class="line">select * from emp e join dept d on e.deptno = d.deptno and e.sal &gt; 2000;</span><br></pre></td></tr></table></figure><ul><li>where是过滤条件在笛卡尔积中进行过滤，满足条件的被筛选出来放入查询结果集</li><li>and是连接条件</li><li>P.S. 在左连接时可看到区别！</li></ul><br>### 层次查询 - 伪列<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select e.* , level from emp e start with empno = 7839 connect by prior empno = mgr;</span><br></pre></td></tr></table></figure><p>start with指明从7839开始，找7839的下属；<br>判断下属的条件是prior empno = mgr；<br>connect by是递归，找到记录之后以该记录作为新起点继续。（DFS）<br>自顶向下查询</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select lpad ( ename , length(ename) + level * 2 , <span class="string">'-'</span> ) from emp start with ename = <span class="string">'SMITH'</span> connect by prior mgr = empno;</span><br></pre></td></tr></table></figure><p>自底向上查询</p><ul><li>剪枝<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select lpad ( ename , length(ename) + level * 2 , <span class="string">'-'</span> ) from emp start with empno = 7839 connect by prior mgr = empno and ename &lt;&gt; <span class="string">'JONES'</span> ;</span><br></pre></td></tr></table></figure></li></ul><p>去除JONES这一条分支，找到JONES就不再向下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select lpad ( ename , length(ename) + level * 2 , <span class="string">'-'</span> ) from emp <span class="built_in">where</span> ename &lt;&gt; <span class="string">'JONES'</span> start with empno = 7839 connect by prior mgr = empno ;</span><br></pre></td></tr></table></figure><p>去除JONES这一个，JONES的下属仍保留</p><ul><li>connect_by_isleaf<br>0是父亲结点，1是叶子结点</li></ul><br>#### 查询结果集运算 1. union 并集 2. intersect 交集 3. minus 差集 > Attention：要求个数相同、类型相容<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select * from emp</span><br><span class="line">union</span><br><span class="line">select * from emp01</span><br><span class="line">order by 1;</span><br></pre></td></tr></table></figure><br>### 子查询 把复杂的查询在逻辑上分为多个子查询 几乎可以用于所有子句中 - select - from - where - having - order by<ol><li><p>标准子查询<br>子查询只执行一次，其结果代入主查询替换。</p></li><li><p>关联子查询<br>在子查询的内部用到了外部/主查询中的表。<br>将主查询得到的记录，代入子查询内部进行了一次子查询，该结果替换后再执行了主查询，得到结果。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select empno, ename, sal, (select avg(sal) from emp e2 <span class="built_in">where</span> e2.deptno = e1.deptno) from emp e1;</span><br><span class="line">select * from emp e1 <span class="built_in">where</span> empno <span class="keyword">in</span> (select mgr from emp e2);</span><br><span class="line">select * from emp e1 <span class="built_in">where</span> empno not <span class="keyword">in</span> (select mgr from emp e2);【Null值陷阱】</span><br><span class="line">select * from emp e1 <span class="built_in">where</span> empno not <span class="keyword">in</span> (select nvl( mgr,0 ) from emp e2);</span><br></pre></td></tr></table></figure><p>存在性判定exists</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select e1.* from emp e1 <span class="built_in">where</span> exists(select 1 from emp e2 <span class="built_in">where</span> e1.empno = e2.mgr);</span><br></pre></td></tr></table></figure><p>每一条记录都判断exists中的子查询结果集是否为null，为null则不将该记录放入查询结果集。<br>可以使用not，没有Null值陷阱</p></li><li><p>单行子查询</p></li><li><p>多行子查询</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select d.*, avg_sal</span><br><span class="line">   from dept d, (select deptno,avg(sal) avg_sal from emp group by deptno) xx</span><br><span class="line">   <span class="built_in">where</span> d.deptno = xx.deptno;</span><br><span class="line">select * from emp <span class="built_in">where</span> (deptno, job) = (select deptno, job from emp <span class="built_in">where</span> ename = <span class="string">'SCOTT'</span>);</span><br></pre></td></tr></table></figure></li><li><p>和all/any组合查询</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from emp <span class="built_in">where</span> sal &gt; (select max(sal) from emp <span class="built_in">where</span> deptno = 20);</span><br><span class="line">select * from emp <span class="built_in">where</span> sal &gt; all (select * from emp <span class="built_in">where</span> deptno = 20);</span><br><span class="line">select * from emp <span class="built_in">where</span> sal &lt; any (select * from emp <span class="built_in">where</span> deptno = 20);</span><br></pre></td></tr></table></figure></li></ol><br>### 分页查询<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select e.*, rounum from emp e;</span><br><span class="line">select e.* , rownum from emp e <span class="built_in">where</span> rownum &lt;= 5;</span><br></pre></td></tr></table></figure><p>分配rownum必须包括1，并且在where条件判断之前生成（order by 在where之后生成）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from ( select e1.*, rownum rn from (select * from emp order by sal desc) e1) <span class="built_in">where</span> rn between 6 and 10;</span><br></pre></td></tr></table></figure><br>### 分析函数<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from ( select e1.*, row_number() over(order by sal desc) rn from emp e1) <span class="built_in">where</span> rn = 2;</span><br><span class="line">select e.*, rownum from (select e1.*, rownum from emp e1 order by sal desc) e;</span><br><span class="line">select e.* , rownum from emp e order by sal desc;</span><br></pre></td></tr></table></figure><br>### DML操作 - 插入 - 删除 - 修改 - 合并（上面三种操作的合并）<br>#### 单表单行插入<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01 values(9001, <span class="string">'JJY01'</span>, <span class="string">'临时工'</span>, 7788, <span class="string">'11-11月-16'</span>, 7000, null, 20); </span><br><span class="line">insert into emp01(empno, ename, sal) values(9002, <span class="string">'JJY02'</span>, 8000);</span><br><span class="line">insert into emp01(empno, ename, sal) values(9003, default, 7000);</span><br></pre></td></tr></table></figure><p>如果没有指明插入哪些字段，则必须填入所有字段的值，并且要遵照字段顺序。（注意隐式转换的特性）<br>default表示空串，和null也是一个意思。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table emp01 modify (job varchar2(9) default <span class="string">'临时工'</span>);</span><br><span class="line">insert into emp01(empno, ename, sal) values(9003, <span class="string">'JJY02'</span>, 6666);</span><br><span class="line">insert into emp01(empno, ename, sal, job) values(9003, <span class="string">'JJY02'</span>, 6666, default);</span><br></pre></td></tr></table></figure><p>修改表中job字段的默认值，对此前已有的字段不产生影响</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01(empno, ename, sal) values(9004, <span class="string">'&amp;ename000'</span>, 9999);</span><br><span class="line">[input] JJY03</span><br><span class="line">insert into emp01(empno, ename, sal) values(9004, <span class="string">'JJY03'</span>, 9999);</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01(empno, ename, sal) values(9005, &amp;ename000, 8888);</span><br><span class="line">[input] <span class="string">'JJY04'</span></span><br><span class="line">insert into emp01(empno, ename, sal) values(9005, <span class="string">'JJY04'</span>, 8888);</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01(empno, ename, sal) values(9006, <span class="string">'&amp;&amp;ename111'</span>, 7777);</span><br><span class="line">[input] JJY05</span><br><span class="line">insert into emp01(empno, ename, sal) values(9006, <span class="string">'JJY05'</span>, 7777);</span><br></pre></td></tr></table></figure><p>此后只要用到了ename111，就直接使用输入的值，使用时用&amp;ename111。<br>相当于在SQLplus下申明了一个变量，退出数据库后自动清除。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01(empno, ename, sal) values(9007, <span class="string">'&amp;ename111'</span>, 6666);</span><br></pre></td></tr></table></figure><br>##### 单表多行插入<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01 select * from emp <span class="built_in">where</span> sal &gt;= 3000;</span><br><span class="line">insert into emp01 (empno, ename, sal, job, deptno) select empno, ename, sal, job, deptno from emp <span class="built_in">where</span> sal &gt;= 3000;</span><br></pre></td></tr></table></figure><p>使用了子查询，代码中不能再使用values<br><br></p><h4 id="多表插入（应用很少）"><a href="#多表插入（应用很少）" class="headerlink" title="多表插入（应用很少）"></a>多表插入（应用很少）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert all into emp01(empno, ename, sal) values(eno, ename, esal)</span><br><span class="line">	into emp02(empno, ename, job, deptno) value(eno, ename, esal, ejob, dno)</span><br><span class="line">	select empno eno, ename, job ejob, sal esal, deptno dno from emp <span class="built_in">where</span> sal &gt;= 2000;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert all when esal &gt; 2000 <span class="keyword">then</span></span><br><span class="line">	into emp01(empno, ename, sal) values(eno, ename, esal)</span><br><span class="line">	when esal &gt; 1500 <span class="keyword">then</span></span><br><span class="line">	into emp02(empno, ename, sal, job, deptno) values(eno, ename, esal, ejob, dno)</span><br><span class="line">	select empno eno, ename, job ejob, sal esal, deptno dno from emp;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert first when esal &gt; 2000 <span class="keyword">then</span></span><br><span class="line">	into emp01(empno, ename, sal) values(eno, ename, esal)</span><br><span class="line">	when esal &gt; 1500 <span class="keyword">then</span></span><br><span class="line">	into emp02(empno, ename, sal, job, deptno) values(eno, ename, esal, ejob, dno)</span><br><span class="line">	select empno eno, ename, job ejob, sal esal, deptno dno from emp;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">insert into emp01(empno, ename, sal)</span><br><span class="line">	select 9001, <span class="string">'JJY01'</span>, 8000 from dual [ = select 1 from dual ]</span><br><span class="line">	union</span><br><span class="line">	select 9002, <span class="string">'JJY02'</span>, 8000 from dual</span><br><span class="line">	union</span><br><span class="line">	select 9003, <span class="string">'JJY03'</span>, 7000 from dept;</span><br></pre></td></tr></table></figure><br>#### 修改<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update emp01 <span class="built_in">set</span> comm = 10000;</span><br><span class="line">update emp01 <span class="built_in">set</span> comm = 10000 <span class="built_in">where</span> ename = <span class="string">'JJY01'</span> ;</span><br></pre></td></tr></table></figure><br>#### 删除<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delete emp01 <span class="built_in">where</span> empno = 9001;</span><br><span class="line">delete emp01;</span><br><span class="line">truncate table emp01; [ = delete emp01 ]</span><br></pre></td></tr></table></figure><p>比delete删除全表时，效率更高！<br><br></p><h4 id="合并（了解即可）"><a href="#合并（了解即可）" class="headerlink" title="合并（了解即可）"></a>合并（了解即可）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">merge into emp01</span><br><span class="line">using emp e</span><br><span class="line">on (emp01.emono = e.empno)</span><br><span class="line">when matched <span class="keyword">then</span></span><br><span class="line">	update <span class="built_in">set</span> sal = e.sal</span><br><span class="line">	delete <span class="built_in">where</span> sal &gt; 1500</span><br><span class="line">when not matched <span class="keyword">then</span></span><br><span class="line">	insert (empno, ename, sal) into emp01</span><br></pre></td></tr></table></figure><br>#### 事务 1. commit 2. set autocommit on 3. rollback 4. savepoint b<br>### 数据隔离级别 - 读未提交 - 读已提交√ - 可重复读 - 序列化度√<br>#### 读取问题 - 没有提交的数据被读取了：賍读 - 在同一个事务下，多次执行同一条语句，结果中的值产生变化：不可重复读 - 在同一个事务下，多次执行同一条语句，得到的结果不同：幻读<br>### 数据恢复 在Oracle安装目录下，找到RDBMS—ADMIN—scott.sql，正常执行此文件即可。 方法： 1. 新建一个批处理文件 initDB.bat 2. 内容：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> NLS_LANG=SIMPILIFIED CHINESE_CHINA.ZHS16GBK</span><br><span class="line">sqlplus sys/oracle@testdb as sysdba @scott.sql &gt; initDB.log</span><br></pre></td></tr></table></figure><ol start="3"><li>对scott.sql进行修改<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[line18] rem SET TERMOUT OFF</span><br><span class="line">[line27] CONNECT scott/tiger@testdb</span><br><span class="line">[line28] DROP TABLE DEPT cascade constraints;</span><br><span class="line">[line52-79] 修改好日期格式</span><br><span class="line">[line end] quit;</span><br></pre></td></tr></table></figure></li></ol></div><div class="article-tags tags"><a class="tag-link" href="/tags/Oracle/">Oracle</a><a class="tag-link" href="/tags/SQL/">SQL</a><a class="tag-link" href="/tags/学习记录/">学习记录</a><a class="tag-link" href="/tags/老坑迁移/">老坑迁移</a></div></section></article><script>setLoadingBarProgress(60)</script></main><footer id="footer" class="clearfix"><div class="social-wrapper"><a href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="icon icon-rss"></span></a></div><div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div><div>&copy; <a href="/">料峭春风吹酒醒</a></div></footer><script>setLoadingBarProgress(80)</script><div class="overlay"></div></div><div class="site-sidebar" id="site-sidebar"><div class="site-bio"><div class="about-me clearfix"><div class="avatar"><img src="/images/avatar.jpg"></div><div class="info"><a class="name dark-btn" href="/about">Suika</a></div><div class="info"><span class="item desc">终不辜负。</span></div></div><div class="menu section"><ul class="clearfix"><li class="left"><a href="/" onfocus="this.blur()" class="nav-home dark-btn block">主页</a></li><li class="right"><a href="/about" onfocus="this.blur()" class="nav-about dark-btn block">关于</a></li><li class="left"><a href="/archives" onfocus="this.blur()" class="nav-archives dark-btn block">归档</a></li><li class="right"><a href="https://lwll.github.io/better-call-me-pumpkin" onfocus="this.blur()" class="nav-links dark-btn block">链接</a></li><li class="left"><a href="/categories/日常" onfocus="this.blur()" class="nav-日常 dark-btn block">日常</a></li><li class="right"><a href="/categories/学习" onfocus="this.blur()" class="nav-学习 dark-btn block">学习</a></li></ul></div></div></div><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.min.js"><\/script>')</script><script src="/js/jquery.fitvids.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",SEARCH_SERVICE="google",universalSearchConfig={};"google"===SEARCH_SERVICE?universalSearchConfig={searchService:SEARCH_SERVICE,apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}:"algolia"===SEARCH_SERVICE?universalSearchConfig={searchService:SEARCH_SERVICE,apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}:"azure"===SEARCH_SERVICE&&(universalSearchConfig={searchService:SEARCH_SERVICE,serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,apiKey:AZURE_QUERY_KEY,imagePath:"/images/"})</script><script src="/js/app.js"></script><script src="/js/search.js"></script><script>setLoadingBarProgress(100)</script></body>